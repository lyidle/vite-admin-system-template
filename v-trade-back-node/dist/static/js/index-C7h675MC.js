import{b as K,i as W,d as $,a as h,u as Q,r as F,c as S,o as X,e as Y,f as _,g as b,w as v,h as P,j as m,n as E,k as t,l as U,E as q,m as ee,p as B,t as A,q as te,s as H,F as oe,v as D,x as se,y as p,T as ne,_ as ae,C as re,z as O,A as le,B as L,D as ie,G as M,H as j,I as ue,J as G,K as ce,L as pe,M as de,N as fe,O as me,P as ge}from"./index-DpaPK14g.js";import{E as ve,a as _e}from"./el-col-BgwJzgJS.js";import{E as ye,a as Ce}from"./el-form-item-Utq6rYWC.js";import{E as he}from"./el-button-C3BECGQo.js";/* empty css                 */import{g as Ee}from"./time-ChaK_OaL.js";import{I as R}from"./iconify-Dmn5Bn3Q.js";import{E as be}from"./index-CKDBud7m.js";import{_ as we}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=["success","info","warning","error"],Te=K({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:W},id:{type:String,default:""},message:{type:$([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:$(Function),default:()=>{}},onClose:{type:$(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Z,""],default:""},zIndex:Number}),Se={destroy:()=>!0},ke=h({name:"ElNotification"}),xe=h({...ke,props:Te,emits:Se,setup(e,{expose:a}){const o=e,{ns:r,zIndex:d}=Q("notification"),{nextZIndex:c,currentZIndex:u}=d,{Close:f}=re,i=F(!1);let l;const n=S(()=>{const s=o.type;return s&&O[o.type]?r.m(s):""}),g=S(()=>o.type&&O[o.type]||o.icon),y=S(()=>o.position.endsWith("right")?"right":"left"),k=S(()=>o.position.startsWith("top")?"top":"bottom"),N=S(()=>{var s;return{[k.value]:`${o.offset}px`,zIndex:(s=o.zIndex)!=null?s:u.value}});function T(){o.duration>0&&({stop:l}=le(()=>{i.value&&C()},o.duration))}function x(){l==null||l()}function C(){i.value=!1}function J({code:s}){s===L.delete||s===L.backspace?x():s===L.esc?i.value&&C():T()}return X(()=>{T(),c(),i.value=!0}),Y(document,"keydown",J),a({visible:i,close:C}),(s,Ue)=>(_(),b(ne,{name:t(r).b("fade"),onBeforeLeave:s.onClose,onAfterLeave:qe=>s.$emit("destroy"),persisted:""},{default:v(()=>[P(m("div",{id:s.id,class:E([t(r).b(),s.customClass,t(y)]),style:U(t(N)),role:"alert",onMouseenter:x,onMouseleave:T,onClick:s.onClick},[t(g)?(_(),b(t(q),{key:0,class:E([t(r).e("icon"),t(n)])},{default:v(()=>[(_(),b(ee(t(g))))]),_:1},8,["class"])):B("v-if",!0),m("div",{class:E(t(r).e("group"))},[m("h2",{class:E(t(r).e("title")),textContent:A(s.title)},null,10,["textContent"]),P(m("div",{class:E(t(r).e("content")),style:U(s.title?void 0:{margin:0})},[te(s.$slots,"default",{},()=>[s.dangerouslyUseHTMLString?(_(),H(oe,{key:1},[B(" Caution here, message could've been compromised, never use user's input as message "),m("p",{innerHTML:s.message},null,8,["innerHTML"])],2112)):(_(),H("p",{key:0},A(s.message),1))])],6),[[D,s.message]]),s.showClose?(_(),b(t(q),{key:0,class:E(t(r).e("closeBtn")),onClick:se(C,["stop"])},{default:v(()=>[p(t(f))]),_:1},8,["class","onClick"])):B("v-if",!0)],2)],46,["id","onClick"]),[[D,i.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Ie=ae(xe,[["__file","notification.vue"]]);const I={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},z=16;let Ne=1;const w=function(e={},a=null){if(!ie)return{close:()=>{}};(typeof e=="string"||M(e))&&(e={message:e});const o=e.position||"top-right";let r=e.offset||0;I[o].forEach(({vm:n})=>{var g;r+=(((g=n.el)==null?void 0:g.offsetHeight)||0)+z}),r+=z;const d=`notification_${Ne++}`,c=e.onClose,u={...e,offset:r,id:d,onClose:()=>{$e(d,o,c)}};let f=document.body;j(e.appendTo)?f=e.appendTo:ue(e.appendTo)&&(f=document.querySelector(e.appendTo)),j(f)||(f=document.body);const i=document.createElement("div"),l=p(Ie,u,M(u.message)?{default:()=>u.message}:null);return l.appContext=a??w._context,l.props.onDestroy=()=>{G(null,i)},G(l,i),I[o].push({vm:l}),f.appendChild(i.firstElementChild),{close:()=>{l.component.exposed.visible.value=!1}}};Z.forEach(e=>{w[e]=(a={})=>((typeof a=="string"||M(a))&&(a={message:a}),w({...a,type:e}))});function $e(e,a,o){const r=I[a],d=r.findIndex(({vm:l})=>{var n;return((n=l.component)==null?void 0:n.props.id)===e});if(d===-1)return;const{vm:c}=r[d];if(!c)return;o==null||o(c);const u=c.el.offsetHeight,f=a.split("-")[0];r.splice(d,1);const i=r.length;if(!(i<1))for(let l=d;l<i;l++){const{el:n,component:g}=r[l].vm,y=Number.parseInt(n.style[f],10)-u-z;g.props.offset=y}}function Be(){for(const e of Object.values(I))e.forEach(({vm:a})=>{a.component.exposed.visible.value=!1})}w.closeAll=Be;w._context=null;const V=ce(w,"$notify"),Le=h({name:"EpUser"}),Ve=h({...Le,setup(e){return(a,o)=>(_(),b(t(R),{icon:"ep:user"}))}}),Fe=h({name:"EpUser"}),He=h({...Fe,setup(e){return(a,o)=>(_(),b(t(R),{icon:"ep:lock"}))}}),Me={class:"login-container"},ze=h({name:"Login"}),Pe=h({...ze,setup(e){let a=F();const o=pe(),r=de(),d=fe();let c=F(!1);const u=me({username:"tes123",password:"321654"}),f={username:[{required:!0,min:5,message:"账号长度至少五位",trigger:"change"}],password:[{required:!0,min:6,message:"密码长度至少六位",trigger:"change"}]};async function i(){try{await a.value.validate()}catch{return}c.value=!0;try{await d.userLogin(u),await d.userInfo(),o.push(`${r.query.redirect||"/"}`),V({type:"success",message:"欢迎回来",title:`Hi,${Ee()}好~`}),c.value=!1}catch(l){try{JSON.parse(l.message),V({type:"error",message:"请输入正确的信息~"})}catch{V({type:"error",message:l.message})}c.value=!1}}return(l,n)=>{const g=ve,y=ye,k=be,N=he,T=Ce,x=_e;return _(),H("div",Me,[p(x,null,{default:v(()=>[p(g,{span:12,xs:0}),p(g,{span:12,xs:24},{default:v(()=>[p(T,{class:"login-form",model:t(u),rules:f,ref_key:"loginForms",ref:a},{default:v(()=>[p(y),n[3]||(n[3]=m("h1",null,"Hello",-1)),n[4]||(n[4]=m("h2",null,"欢迎来到硅谷甄选",-1)),p(y,{prop:"username"},{default:v(()=>[p(k,{placeholder:"","prefix-icon":Ve,modelValue:t(u).username,"onUpdate:modelValue":n[0]||(n[0]=C=>t(u).username=C)},null,8,["modelValue"])]),_:1}),p(y,{prop:"password"},{default:v(()=>[p(k,{placeholder:"",type:"password","prefix-icon":He,modelValue:t(u).password,"onUpdate:modelValue":n[1]||(n[1]=C=>t(u).password=C),"show-password":""},null,8,["modelValue"])]),_:1}),p(y,null,{default:v(()=>[p(N,{loading:t(c),disabled:t(c),type:"primary",class:"login-submit",onClick:i},{default:v(()=>n[2]||(n[2]=[ge("登录")])),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),n[5]||(n[5]=m("div",{class:"account"},[m("div",null,"username: admin"),m("div",{style:{"user-select":"none",height:"100%",width:"10px"}}),m("div",null,"password: 111111")],-1))])}}}),We=we(Pe,[["__scopeId","data-v-f6a1af90"]]);export{We as default};
